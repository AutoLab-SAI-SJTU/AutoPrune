{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [

        {
            "name": "Python Debugger: Current File",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "1",
                // "LD_LIBRARY_PATH": "/data4/hswang/conda_envs/AdaPruner/lib:${env:LD_LIBRARY_PATH}",
                // "http_proxy": "http://10.11.1.242:10811",
                // "https_proxy": "http://10.11.1.242:10811"
                // "http_proxy": "http://10.6.56.132:10810",
                // "https_proxy": "http://10.6.56.132:10810",
                // "PYTHONWARNINGS": "ignore" 
            },
        },    
        {
            "name": "Run Model TextVqa Loader",
            "type": "debugpy",
            "request": "launch",
            "module": "llava.eval.model_vqa_loader",
            // "module": "llava.eval.model_vqa_loader_debug",
            "args": [
              "--model-path", "/home/hswang/paper/llm/AdaPruner/llava-v1.5-7b",
              "--question-file", "./playground/data/eval/textvqa/llava_textvqa_val_v051_ocr.jsonl",
              "--image-folder",  "./playground/data/eval/textvqa/train_images",
              "--answers-file",  "./playground/data/eval/textvqa/answers/llava-v1.5-7b/AdaPruner/debug922.jsonl",
              "--num-chunks",    "1",
              "--chunk-idx",     "0",
              "--visual-token-num", "576",
              "--temperature",   "0",
              "--conv-mode",     "vicuna_v1"
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "LD_LIBRARY_PATH": "/data4/hswang/conda_envs/AdaPruner/lib:${env:LD_LIBRARY_PATH}",
                // "http_proxy": "http://10.11.1.242:10811",
                // "https_proxy": "http://10.11.1.242:10811"
                "http_proxy": "http://10.6.56.132:10810",
                "https_proxy": "http://10.6.56.132:10810",
                "PYDEVD_WARN_SLOW_RESOLVE_TIMEOUT": "1000",
            },
            "console": "integratedTerminal",
            "cwd": "/home/hswang/paper/llm/AdaPruner",
            "justMyCode": false,
            "subProcess": true
        },
        {
            "name": "Run Model TextVqa Eval",
            "type": "debugpy",
            "request": "launch",
            // "module": "llava.eval.eval_textvqa",
            "module": "llava.eval.eval_textvqa",
            "args": [
                // --tier testdev_balanced
                "--annotation-file" , "./playground/data/eval/textvqa/TextVQA_0.5.1_val.json",
                "--result-file", "./playground/data/eval/textvqa/answers/llava-v1.5-7b/AdaPruner/debug922.jsonl",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "http_proxy": "http://10.6.56.132:10810",
                "https_proxy": "http://10.6.56.132:10810",
                // "http_proxy": "http://10.6.56.85:10811",
                // "https_proxy": "http://10.6.56.85:10811"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "cwd": "/data4/hswang/paper/llm/AdaPruner/playground/data/eval/gqa/data/eval",
        },    
        {
            "name": "Run Model GQA Loader",
            "type": "debugpy",
            "request": "launch",
            "module": "llava.eval.model_vqa_loader",
            // "module": "llava.eval.model_vqa_loader_debug",
            "args": [
              "--model-path", "/home/hswang/paper/llm/AdaPruner/llava-v1.5-7b",
              "--question-file", "./playground/data/eval/gqa/llava_gqa_testdev_balanced.jsonl",
              "--image-folder",  "./playground/data/eval/gqa/data/images",
              "--answers-file",  "./playground/data/eval/gqa/answers/llava-v1.5-7b/AdaPruner/n_32/1_0.jsonl",
              "--num-chunks",    "1",
              "--chunk-idx",     "0",
              "--visual-token-num", "576",
              "--temperature",   "0",
              "--conv-mode",     "vicuna_v1"
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "3",
                "LD_LIBRARY_PATH": "/data4/hswang/conda_envs/AdaPruner/lib:${env:LD_LIBRARY_PATH}",
                // "http_proxy": "http://10.11.1.242:10811",
                // "https_proxy": "http://10.11.1.242:10811"
                "http_proxy": "http://10.6.56.132:10810",
                "https_proxy": "http://10.6.56.132:10810",
                "PYDEVD_WARN_SLOW_RESOLVE_TIMEOUT": "1000",
            },
            "console": "integratedTerminal",
            "cwd": "/home/hswang/paper/llm/AdaPruner",
            "justMyCode": false,
            "subProcess": true
        },
        {
            "name": "Run Model GQA Eval",
            "type": "debugpy",
            "request": "launch",
            // "module": "llava.eval.eval_textvqa",
            "program": "eval.py",
            "args": [
                // --tier testdev_balanced
                "--tier" , "testdev_balanced",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "http_proxy": "http://10.6.56.132:10810",
                "https_proxy": "http://10.6.56.132:10810",
                // "http_proxy": "http://10.6.56.85:10811",
                // "https_proxy": "http://10.6.56.85:10811"
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "cwd": "/data4/hswang/paper/llm/AdaPruner/playground/data/eval/gqa/data/eval",
        }, 
        {
            "name": "Run Model VQA Loader",
            "type": "debugpy",
            "request": "launch",
            "module": "llava.eval.model_vqa_loader",
            // "module": "llava.eval.model_vqa_loader",
            "args": [
                "--model-path",
                "/home/hswang/paper/llm/AdaPruner/llava-v1.6-vicuna-7b/",
                "--question-file",
                "./playground/data/eval/vqav2/llava_vqav2_mscoco_test-dev2015.jsonl",
                "--image-folder",
                "./playground/data/eval/vqav2/test2015",
                "--answers-file",
                "./playground/data/eval/textvqa/answers/llava-v1.5-7b/AdaPruner/logistic_A65.jsonl",
                "--visual-token-num",
                "576",
                "--temperature",
                "0",
                "--conv-mode",
                "vicuna_v1",
                // "--use-loop",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                // "LD_LIBRARY_PATH": "/data4/hswang/conda_envs/AdaPruner/lib:${env:LD_LIBRARY_PATH}",
                // "http_proxy": "http://10.11.1.242:10811",
                // "https_proxy": "http://10.11.1.242:10811"
                "http_proxy": "http://10.6.56.132:10810",
                "https_proxy": "http://10.6.56.132:10810",
                // "PYDEVD_WARN_SLOW_RESOLVE_TIMEOUT": "1000",
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true
        },, 
        {
            "name": "Run Model VQA Loader",
            "type": "debugpy",
            "request": "launch",
            "module": "llava.eval.model_vqa_loader",
            // "module": "llava.eval.model_vqa_loader",
            "args": [
                "--model-path",
                "/home/hswang/paper/llm/AdaPruner/llava-v1.6-vicuna-7b/",
                "--question-file",
                "./playground/data/eval/vqav2/llava_vqav2_mscoco_test-dev2015.jsonl",
                "--image-folder",
                "./playground/data/eval/vqav2/test2015",
                "--answers-file",
                "./playground/data/eval/textvqa/answers/llava-v1.5-7b/AdaPruner/logistic_A65.jsonl",
                "--visual-token-num",
                "576",
                "--temperature",
                "0",
                "--conv-mode",
                "vicuna_v1",
                // "--use-loop",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                // "LD_LIBRARY_PATH": "/data4/hswang/conda_envs/AdaPruner/lib:${env:LD_LIBRARY_PATH}",
                // "http_proxy": "http://10.11.1.242:10811",
                // "https_proxy": "http://10.11.1.242:10811"
                "http_proxy": "http://10.6.56.132:10810",
                "https_proxy": "http://10.6.56.132:10810",
                // "PYDEVD_WARN_SLOW_RESOLVE_TIMEOUT": "1000",
            },
            "console": "integratedTerminal",
            "justMyCode": false,
            "subProcess": true
        },
        {
            "name": "Run Model VQA Eval",
            "type": "debugpy",
            "request": "launch",
            "module": "llava.eval.eval_textvqa",
            "args": [
                "--annotation-file",
                "./playground/data/eval/textvqa/TextVQA_0.5.1_val.json",
                "--result-file",
                "./playground/data/eval/textvqa/answers/llava-v1.5-7b/AdaPruner/n_144_20250407_144729.jsonl",
                "--use_list",
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "1",
                "http_proxy": "http://10.6.56.132:10810",
                "https_proxy": "http://10.6.56.132:10810",
                // "http_proxy": "http://10.6.56.85:10811",
                // "https_proxy": "http://10.6.56.85:10811"
            },
            "console": "integratedTerminal",
            "justMyCode": false
        },
        {
            "name": "LLaVA VQA Science",
            "type": "debugpy",
            "request": "launch",
            // 直接用 -m 模式
            "module": "llava.eval.model_vqa_science",
            // 如果你在子目录启动，最好指定工作目录
            "cwd": "${workspaceFolder}",
            // 相当于 python -W ignore
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "http_proxy": "http://10.6.56.132:10810",
                "https_proxy": "http://10.6.56.132:10810",
                // "http_proxy": "http://10.6.56.85:10811",
                // "https_proxy": "http://10.6.56.85:10811"
            },
            "args": [
              "--model-path",
              "/home/hswang/paper/llm/AdaPruner/llava-v1.5-7b",
              "--question-file",
              "${workspaceFolder}/playground/data/eval/sqa/llava_test_CQM-A.json",
              "--image-folder",
              "${workspaceFolder}/playground/data/eval/sqa/images/test",
              "--answers-file",
              "${workspaceFolder}/playground/data/eval/sqa/answers/${env:CKPT}/${env:METHOD}/${env:PARAM}.jsonl",
              "--single-pred-prompt",
              "--visual-token-num",
              "58",
              "--temperature",
              "0",
              "--conv-mode",
              "vicuna_v1"
            ]
          },    
          {
              "name": "Run Model MMB Loader",
              "type": "debugpy",
              "request": "launch",
              // "module": "llava.eval.model_vqa_loader",
              "module": "llava.eval.model_vqa_mmbench",
              "args": [
                "--model-path", "/home/hswang/paper/llm/AdaPruner/llava-v1.5-7b",
                "--question-file", "./playground/data/eval/mmbench/mmbench_dev_20230712.tsv",
                // "--image-folder",  "./playground/data/eval/gqa/data/images",
                "--answers-file",  "./playground/data/eval/mmbench/answers/llava-v1.5-7b/AdaPruner/n_32/1_0.jsonl",
                "--single-pred-prompt",
                // "--num-chunks",    "1",
                // "--chunk-idx",     "0",
                "--visual-token-num", "576",
                "--temperature",   "0",
                "--conv-mode",     "vicuna_v1"
              ],
              "env": {
                  "CUDA_VISIBLE_DEVICES": "0",
                  "LD_LIBRARY_PATH": "/data4/hswang/conda_envs/AdaPruner/lib:${env:LD_LIBRARY_PATH}",
                  // "http_proxy": "http://10.11.1.242:10811",
                  // "https_proxy": "http://10.11.1.242:10811"
                  "http_proxy": "http://10.6.56.132:10810",
                  "https_proxy": "http://10.6.56.132:10810",
                  "PYDEVD_WARN_SLOW_RESOLVE_TIMEOUT": "1000",
              },
              "console": "integratedTerminal",
              "cwd": "/home/hswang/paper/llm/AdaPruner",
              "justMyCode": false,
              "subProcess": true
          },    
          {
              "name": "Run Model POPE Loader",
              "type": "debugpy",
              "request": "launch",
              // "module": "llava.eval.model_vqa_loader",
              "module": "llava.eval.model_vqa_loader",
              "args": [
                "--model-path", "/home/hswang/paper/llm/AdaPruner/llava-v1.5-7b",
                "--question-file", "./playground/data/eval/pope/llava_pope_test.jsonl",
                "--image-folder",  "./playground/data/eval/pope/val2014",
                "--answers-file",  "./playground/data/eval/pope/answers/llava-v1.5-7b/AdaPruner/n_32/1_0.jsonl",
                // "--single-pred-prompt",
                // "--num-chunks",    "1",
                // "--chunk-idx",     "0",
                "--visual-token-num", "576",
                "--temperature",   "0",
                "--conv-mode",     "vicuna_v1"
              ],
              "env": {
                  "CUDA_VISIBLE_DEVICES": "0",
                  "LD_LIBRARY_PATH": "/data4/hswang/conda_envs/AdaPruner/lib:${env:LD_LIBRARY_PATH}",
                  // "http_proxy": "http://10.11.1.242:10811",
                  // "https_proxy": "http://10.11.1.242:10811"
                  "http_proxy": "http://10.6.56.132:10810",
                  "https_proxy": "http://10.6.56.132:10810",
                  "PYDEVD_WARN_SLOW_RESOLVE_TIMEOUT": "1000",
              },
              "console": "integratedTerminal",
              "cwd": "/home/hswang/paper/llm/AdaPruner",
              "justMyCode": false,
              "subProcess": true
          }, 
          {
              "name": "NEXT-Run Model VQA Loader",
              "type": "debugpy",
              "request": "launch",
              "module": "llava.eval.model_vqa_loader",
              // "module": "llava.eval.model_vqa_loader",
              "args": [
                  "--model-path",
                  "/home/hswang/paper/llm/AdaPruner/llava-v1.6-vicuna-7b",
                  "--question-file",
                  "./playground/data/eval/textvqa/llava_textvqa_val_v051_ocr.jsonl",
                  "--image-folder",
                  "./playground/data/eval/textvqa/train_images",
                  "--answers-file",
                  "./playground/data/eval/textvqa/answers/llava-v1.5-7b/AdaPruner/logistic_A65.jsonl",
                  "--visual-token-num",
                  "576",
                  "--temperature",
                  "0",
                  "--conv-mode",
                  "vicuna_v1",
                  // "--use-loop",
              ],
              "env": {
                  "CUDA_VISIBLE_DEVICES": "0",
                  // "LD_LIBRARY_PATH": "/data4/hswang/conda_envs/AdaPruner/lib:${env:LD_LIBRARY_PATH}",
                  // "http_proxy": "http://10.11.1.242:10811",
                  // "https_proxy": "http://10.11.1.242:10811"
                  "http_proxy": "http://10.6.56.132:10810",
                  "https_proxy": "http://10.6.56.132:10810",
                  // "PYDEVD_WARN_SLOW_RESOLVE_TIMEOUT": "1000",
              },
              "console": "integratedTerminal",
              "justMyCode": false,
              "subProcess": true
          }
    ]
}